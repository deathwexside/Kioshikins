<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kioshikins - Главная</title>
<link rel="stylesheet" href="css/style.css">

<!-- Сразу добавляем класс темы в <html>, до рендера страницы -->
<script>
  const theme = localStorage.getItem("theme") || "sage";
  document.documentElement.classList.add("theme-" + theme);
</script>

</head>
<body oncontextmenu="return false;">

<nav>
    <div class="logo">Kioshikins</div>
    <div class="menu">
        <a href="index.html">Главная</a>
        <a href="info.html">Обо мне</a>
        <a href="gallery.html">Галерея</a>
        <a href="clips.html">Клипы</a>
        <a href="theme.html" class="btn-nav">Выбрать тему</a>
        <a href="player.html" class="btn-nav">Смотреть стрим</a>
    </div>
</nav>

<header class="hero">
    <h1 class="fade-in">Привет, я Kioshikins</h1>
    <p class="fade-in delay-1">Стримерша, контент-креатор и вайбовый стример, которая будет рада каждому на стриме!</p>
    <a href="player.html" class="btn fade-in delay-2">Смотреть стрим</a>
</header>

<footer>
    © 2025 Kioshikins
</footer>

<script>
// ===== Анимация появления элементов =====
const faders = document.querySelectorAll('.fade-in');
const appearOptions = { threshold: 0.2 };
const appearOnScroll = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
        if(!entry.isIntersecting) return;
        entry.target.classList.add('appear');
        observer.unobserve(entry.target);
    });
}, appearOptions);
faders.forEach(fader => appearOnScroll.observe(fader));

// ===== Параллакс-фон =====
window.addEventListener('scroll', () => {
    const scrolled = window.scrollY;
    document.body.style.backgroundPositionY = `${scrolled * 0.3}px`;
});

// ===== Подставляем фон в body =====
document.addEventListener("DOMContentLoaded", () => {
    const theme = localStorage.getItem("theme") || "sage";
    const backgroundImages = {
        sage: "font1.png",
        omen: "font2.png",
        clove: "font3.png"
    };
    document.body.style.background = `url('${backgroundImages[theme]}') no-repeat center center fixed`;
    document.body.style.backgroundSize = "cover";
});

// ===== Функция для ручного применения темы (если нужно) =====
function applyTheme(theme) {
    document.documentElement.classList.remove('theme-sage', 'theme-omen', 'theme-clove');
    document.documentElement.classList.add('theme-' + theme);

    const backgroundImages = {
        sage: "font1.png",
        omen: "font2.png",
        clove: "font3.png"
    };
    document.body.style.background = `url('${backgroundImages[theme]}') no-repeat center center fixed`;
    document.body.style.backgroundSize = "cover";
}
</script>

</body>
</html>
